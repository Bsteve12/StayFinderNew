<p-toast></p-toast>
<div class="forgot-password-container">
  <div class="forgot-password-card">
    <div class="title-section">
      <div class="title-content">
        <h1 class="main-title">Nueva contraseña</h1>
        <p class="subtitle">Ingresa tu nueva clave de acceso para recuperar tu cuenta</p>
      </div>
      <div class="decoration-circle"></div>
    </div>

    <div class="form-section">
      <div class="form-content">
        <div class="logo-container">
          <img src="StayFinder.png" alt="StayFinder" class="logo" />
          <span class="logo-text">StayFinder</span>
        </div>

        <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="forgot-form">

          <div class="form-field">
            <div class="input-wrapper">
              <input
                type="password"
                pInputText
                formControlName="password"
                placeholder="Nueva Contraseña"
                class="form-input"
                [class.invalid]="isPasswordInvalid"
              />
              <i class="pi pi-lock input-icon"></i>
            </div>
            <small class="error-message" *ngIf="isPasswordInvalid">
              La contraseña debe tener al menos 8 caracteres
            </small>
          </div>

          <div class="form-field">
            <div class="input-wrapper">
              <input
                type="password"
                pInputText
                formControlName="confirmPassword"
                placeholder="Repite la Contraseña"
                class="form-input"
                [class.invalid]="isMismatch"
              />
              <i class="pi pi-lock-open input-icon"></i>
            </div>
            <small class="error-message" *ngIf="isMismatch">
              Las contraseñas no coinciden
            </small>
          </div>

          <button
            pButton
            type="submit"
            label="Actualizar Contraseña"
            class="submit-button"
            [disabled]="resetForm.invalid || loading"
          ></button>

        </form>
      </div>
    </div>
  </div>
</div>
